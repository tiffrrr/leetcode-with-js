<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>indexOf是不是真的效能不太好阿XD</p>
    <script>
        // 3:15
        // 40min
        // 第一次嘗試，被題目影響，執著在要用同一個arr XD
        // 思路：
        // 找到數字 刪掉
        // 沒找到 加上
        // 因為可能有重複，所以加indexOf和lastIndexOf來判斷
        // 這個解法失敗，有3個test case不通過/
        // var findDisappearedNumbers = function(nums) {
        //     var length = nums.length
        //     for(var i=1;i<= length;i++){
        //         if(nums.indexOf(i)>-1 && nums.lastIndexOf(i)>-1){
        //             if (nums.indexOf(i) !== nums.lastIndexOf(i)){
        //                 nums.splice(nums.lastIndexOf(i),1)
        //             }
        //             nums.splice(nums.indexOf(i),1)

        //         }else{
        //             nums.push(i)
        //         }
        //     }
        //     return nums;
        // };
        // console.log(findDisappearedNumbers([4,3,2,7,8,2,3,1]))


        // 其實原本就想用這個解法XD很快就想出來了
        // 但indexOf的時間很長（猜測：等於再跑一次迴圈？）
        // var findDisappearedNumbers = function(nums) {
        //     var length = nums.length
        //     res=[];
        //     for(var i=1;i<= length;i++){
        //         if(nums.indexOf(i) == -1){
        //             res.push(i)
        //         }
        //     }
        //     return res;
        // };
        // console.log(findDisappearedNumbers([4,3,2,7,8,2,3,1]))

        // 最佳解法
        // 比如說原本陣列是 arr=[1,3,3]
        // 他就把 arr[0] arr[2] arr[2]變成負數
        // 新的arr = [-1,3,-3]
        // 只有第二個是正數
        // 說明原本的arr沒有2這個數字


        // 其實不用新增array，在原array變成+-就好
        var findDisappearedNumbers = function(nums) {
            let res = [];
            for (let i = 0; i < nums.length; i++) {
                let num = Math.abs(nums[i]);
                let idx = num-1;
                nums[idx] = Math.abs(nums[idx]) * -1;
                console.log(nums)
            }
            for (let i = 0; i < nums.length; i++) {
                if (nums[i] > 0) res.push(i+1);
            }
            // return res;
            console.log(res)
        };
        findDisappearedNumbers([4,3,2,7,8,2,3,1])
    </script>
</body>
</html>